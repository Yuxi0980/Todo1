<!DOCTYPE html>
<html>

<body>

    <p>Click the button to display the prediction result.</p>

    <form name='iForm' onSubmit='displayPrediction(this.rankPlayer1.value, this.rankPlayer2.value, document.getElementById("result")); return false;'>
        <label for="rankPlayer1">Enter the better ranking</label>
        <input name='rankPlayer1'>
        <label for="rankPlayer2">Enter the worst ranking</label>
        <input name='rankPlayer2'>
        <input type=submit>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/synaptic/1.0.8/synaptic.min.js"></script>

    <p id="result"></p>

    <script>

        var perceptron = null;

        var displayPrediction = function (rankPlayer1, rankPlayer2, inputResult) {

            perceptron = new synaptic.Architect.Perceptron(2, 3, 2);

            trainingData();

            var result = perceptron.activate([parseInt(rankPlayer1), parseInt(rankPlayer2)]);

            if (result[0] > result[1]) {
                return inputResult.innerHTML = "Player with better rank has the (" + (result[0] * 100).toFixed() + "% sure of win)";
            } else {
                return inputResult.innerHTML = "Player with worst rank has the (" + (result[1] * 100).toFixed() + "% sure of win)";
            }
        }

        var trainingData = function () {

            var trainer = new synaptic.Trainer(perceptron);

            var trainingSet = [
                {
                    input: [61, 104],
                    output: [1, 0]
                },
                {
                    input: [54, 74],
                    output: [0, 1]
                },
                {
                    input: [41, 93],
                    output: [1, 0]
                },
                {
                    input: [37, 85],
                    output: [0, 1]
                },
                {
                    input: [43, 57],
                    output: [0, 1]
                },
                {
                    input: [36, 60],
                    output: [0, 1]
                },
                {
                    input: [45, 149],
                    output: [1, 0]
                },
                {
                    input: [51, 89],
                    output: [0, 1]
                },
                {
                    input: [16, 41],
                    output: [1, 0]
                },
                {
                    input: [39, 56],
                    output: [0, 1]
                },
                {
                    input: [96, 118],
                    output: [0, 1]
                },
                {
                    input: [32, 70],
                    output: [1, 0]
                },
                {
                    input: [35, 76],
                    output: [0, 1]
                },
            ];

            for (var i = 0; i < 25; i++) {
                trainer.train(trainingSet, {
                    rate: 0.01,
                    iterations: 200,
                    shuffle: true,
                    cost: synaptic.Trainer.cost.MSE
                });
                var error = trainer.test(trainingSet)["error"];
                console.log("Iteration " + ((i + 1) * 200) + " --> Error: " + error
                );
            }

        }
    </script>

</body>

</html>